(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const e of i.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&c(e)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var a={};a.hasClass=function(t,r){return t.classList.contains(r)};a.addClass=function(t,r){var n=r.split(" ");t.classList.add(n[0]),n.length>1&&a.addClass(t,n.slice(1).join(" "))};a.removeClass=function(t,r){var n=r.split(" ");t.classList.remove(n[0]),n.length>1&&a.removeClass(t,n.slice(1).join(" "))};(function(){var t=function(e){this.element=e,this.triggers=document.querySelectorAll('[aria-controls="'+this.element.getAttribute("id")+'"]'),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.modalFocus=this.element.getAttribute("data-modal-first-focus")?this.element.querySelector(this.element.getAttribute("data-modal-first-focus")):null,this.selectedTrigger=null,this.preventScrollEl=this.getPreventScrollEl(),this.showClass="modal--is-visible",this.initModal()};t.prototype.getPreventScrollEl=function(){var e=!1,s=this.element.getAttribute("data-modal-prevent-scroll");return s&&(e=document.querySelector(s)),e},t.prototype.initModal=function(){var e=this;if(setTimeout(function(){a.addClass(e.element,"modal--active")},1),this.triggers)for(var s=0;s<this.triggers.length;s++)this.triggers[s].addEventListener("click",function(l){if(l.preventDefault(),a.hasClass(e.element,e.showClass)){e.closeModal();return}e.selectedTrigger=l.currentTarget,e.showModal(),e.initModalEvents()});this.element.addEventListener("openModal",function(l){l.detail&&(e.selectedTrigger=l.detail),e.showModal(),e.initModalEvents()}),this.element.addEventListener("closeModal",function(l){l.detail&&(e.selectedTrigger=l.detail),e.closeModal()}),a.hasClass(this.element,this.showClass)&&this.initModalEvents()},t.prototype.showModal=function(){a.addClass(this.element,this.showClass),this.getFocusableElements(),this.moveFocusEl,this.emitModalEvents("modalIsOpen"),this.preventScrollEl&&(this.preventScrollEl.style.overflow="hidden")},t.prototype.closeModal=function(){a.hasClass(this.element,this.showClass)&&(a.removeClass(this.element,this.showClass),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.selectedTrigger&&this.selectedTrigger.focus(),this.cancelModalEvents(),this.emitModalEvents("modalIsClose"),this.preventScrollEl&&(this.preventScrollEl.style.overflow=""))},t.prototype.initModalEvents=function(){this.element.addEventListener("keydown",this),this.element.addEventListener("click",this)},t.prototype.cancelModalEvents=function(){this.element.removeEventListener("keydown",this),this.element.removeEventListener("click",this)},t.prototype.handleEvent=function(e){switch(e.type){case"click":this.initClick(e);case"keydown":this.initKeyDown(e)}},t.prototype.initKeyDown=function(e){e.keyCode&&e.keyCode==9||e.key&&e.key=="Tab"?this.trapFocus(e):(e.keyCode&&e.keyCode==13||e.key&&e.key=="Enter")&&e.target.closest(".js-modal__close")&&(e.preventDefault(),this.closeModal())},t.prototype.initClick=function(e){!e.target.closest(".js-modal__close")&&!a.hasClass(e.target,"js-modal")||(e.preventDefault(),this.closeModal())},t.prototype.trapFocus=function(e){this.firstFocusable==document.activeElement&&e.shiftKey&&(e.preventDefault(),this.lastFocusable.focus()),this.lastFocusable==document.activeElement&&!e.shiftKey&&(e.preventDefault(),this.firstFocusable.focus())},t.prototype.getFocusableElements=function(){var e=this.element.querySelectorAll(c);this.getFirstVisible(e),this.getLastVisible(e),this.getFirstFocusable()},t.prototype.getFirstVisible=function(e){for(var s=0;s<e.length;s++)if(r(e[s])){this.firstFocusable=e[s];break}},t.prototype.getLastVisible=function(e){for(var s=e.length-1;s>=0;s--)if(r(e[s])){this.lastFocusable=e[s];break}},t.prototype.getFirstFocusable=function(){if(!this.modalFocus||!Element.prototype.matches){this.moveFocusEl=this.firstFocusable;return}var e=this.modalFocus.matches(c);if(e)this.moveFocusEl=this.modalFocus;else{this.moveFocusEl=!1;for(var s=this.modalFocus.querySelectorAll(c),l=0;l<s.length;l++)if(r(s[l])){this.moveFocusEl=s[l];break}this.moveFocusEl||(this.moveFocusEl=this.firstFocusable)}},t.prototype.emitModalEvents=function(e){var s=new CustomEvent(e,{detail:this.selectedTrigger});this.element.dispatchEvent(s)};function r(e){return e.offsetWidth||e.offsetHeight||e.getClientRects().length}window.Modal=t;var n=document.getElementsByClassName("js-modal"),c='[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary';if(n.length>0){for(var o=[],i=0;i<n.length;i++)(function(e){o.push(new t(n[e]))})(i);window.addEventListener("keydown",function(e){if(e.keyCode&&e.keyCode==27||e.key&&e.key.toLowerCase()=="escape")for(var s=0;s<o.length;s++)(function(l){o[l].closeModal()})(s)})}})();
